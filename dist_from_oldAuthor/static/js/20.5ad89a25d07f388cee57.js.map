{"version":3,"sources":["webpack:///static/js/20.5ad89a25d07f388cee57.js","webpack:///./src/components/search-bar.vue?635c***","webpack:///./src/components/search-bar.vue?d23b***","webpack:///./src/components/search-bar.vue?74dd***","webpack:///search-bar.vue?de29**","webpack:///./src/components/search-bar.vue","webpack:///./src/views/chat.vue?7608","webpack:///./src/views/chat.vue?0a2f","webpack:///./src/views/chat.vue?0453","webpack:///chat.vue","webpack:///./src/views/chat.vue"],"names":["webpackJsonp","10","module","exports","__webpack_require__","push","id","version","sources","names","mappings","file","sourceRoot","11","content","locals","12","17","Object","defineProperty","value","default","props","searchId","String","data","isFocus","searchVal","hasVal","methods","s_input","this","s_focus","s_blur","reset_val","18","__vue_script__","__vue_template__","__vue_styles__","__esModule","__vue_options__","options","template","computed","keys","forEach","key","72","142","173","250","_interopRequireDefault","obj","_getters","_actions","_searchBar","_searchBar2","vuex","getters","wechat_list","actions","get_menu_wechat_list","set_menu_active","set_chat","set_chat_count","set_news_state","delete_news","route","activate","_ref","next","from","to","decline","currentIndex","isTouchSwipe","events","route-pipe","_decline","$parent","$emit","info_touchstart","_index","info_tap","index","$router","go","path","info_swipeleft","event","stopPropagation","computed_unRead_count","sum","console","log","_ref2","chatBaseModel","chatConfigModel","newsMute","count","newsUnreadCount","increase_newsState","val","_this","delete_item","_this2","filters","f_news","attr","newsClass","newsText","newsShow","o","nclass","ntext","nshow","components","searchBar","created","_this3","275"],"mappings":"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","file":"static/js/20.5ad89a25d07f388cee57.js","sourcesContent":["webpackJsonp([20,21],{\n\n/***/ 10:\n/***/ function(module, exports, __webpack_require__) {\n\n\texports = module.exports = __webpack_require__(1)();\n\t// imports\n\t\n\t\n\t// module\n\texports.push([module.id, \"\", \"\", {\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"file\":\"search-bar.vue\",\"sourceRoot\":\"webpack://\"}]);\n\t\n\t// exports\n\n\n/***/ },\n\n/***/ 11:\n/***/ function(module, exports, __webpack_require__) {\n\n\t// style-loader: Adds some css to the DOM by adding a <style> tag\n\t\n\t// load the styles\n\tvar content = __webpack_require__(10);\n\tif(typeof content === 'string') content = [[module.id, content, '']];\n\t// add the styles to the DOM\n\tvar update = __webpack_require__(2)(content, {});\n\tif(content.locals) module.exports = content.locals;\n\t// Hot Module Replacement\n\tif(false) {\n\t\t// When the styles change, update the <style> tags\n\t\tif(!content.locals) {\n\t\t\tmodule.hot.accept(\"!!./../../node_modules/.0.24.0@css-loader/index.js?sourceMap!./../../node_modules/.8.5.4@vue-loader/lib/style-rewriter.js!./../../node_modules/.8.5.4@vue-loader/lib/selector.js?type=style&index=0!./search-bar.vue\", function() {\n\t\t\t\tvar newContent = require(\"!!./../../node_modules/.0.24.0@css-loader/index.js?sourceMap!./../../node_modules/.8.5.4@vue-loader/lib/style-rewriter.js!./../../node_modules/.8.5.4@vue-loader/lib/selector.js?type=style&index=0!./search-bar.vue\");\n\t\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\t\tupdate(newContent);\n\t\t\t});\n\t\t}\n\t\t// When the module is disposed, remove the <style> tags\n\t\tmodule.hot.dispose(function() { update(); });\n\t}\n\n/***/ },\n\n/***/ 12:\n/***/ function(module, exports) {\n\n\tmodule.exports = \" <div class=weui_search_bar :class=\\\"isFocus?'weui_search_focusing':''\\\"> <form class=weui_search_outer> <div class=weui_search_inner> <i class=weui_icon_search></i> <input type=search class=weui_search_input placeholder=搜索 v-model=searchVal :id=searchId @input=s_input @focus=s_focus @blur=s_blur> <a href=javascript: class=weui_icon_clear @touchend=reset_val v-show=hasVal></a> </div> <label :for=searchId class=weui_search_text> <i class=weui_icon_search></i> <span>搜索</span> </label> </form> <a href=javascript: class=weui_search_cancel @touchend=s_blur>取消</a> </div> \";\n\n/***/ },\n\n/***/ 17:\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.default = {\n\t    props: {\n\t        searchId: String\n\t    },\n\t    data: function data() {\n\t        return {\n\t            isFocus: false,\n\t            searchVal: \"\",\n\t            hasVal: false\n\t        };\n\t    },\n\t\n\t    methods: {\n\t        s_input: function s_input() {\n\t            if (this.searchVal !== '') {\n\t                this.hasVal = true;\n\t            } else {\n\t                this.hasVal = false;\n\t            }\n\t        },\n\t        s_focus: function s_focus() {\n\t            this.isFocus = true;\n\t        },\n\t        s_blur: function s_blur() {\n\t            this.isFocus = false;\n\t        },\n\t        reset_val: function reset_val() {\n\t            this.searchVal = '';\n\t        }\n\t    }\n\t};\n\n/***/ },\n\n/***/ 18:\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __vue_script__, __vue_template__\n\tvar __vue_styles__ = {}\n\t__webpack_require__(11)\n\t__vue_script__ = __webpack_require__(17)\n\t__vue_template__ = __webpack_require__(12)\n\tmodule.exports = __vue_script__ || {}\n\tif (module.exports.__esModule) module.exports = module.exports.default\n\tvar __vue_options__ = typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports\n\tif (__vue_template__) {\n\t__vue_options__.template = __vue_template__\n\t}\n\tif (!__vue_options__.computed) __vue_options__.computed = {}\n\tObject.keys(__vue_styles__).forEach(function (key) {\n\tvar module = __vue_styles__[key]\n\t__vue_options__.computed[key] = function () { return module }\n\t})\n\n\n/***/ },\n\n/***/ 72:\n/***/ function(module, exports, __webpack_require__) {\n\n\texports = module.exports = __webpack_require__(1)();\n\t// imports\n\t\n\t\n\t// module\n\texports.push([module.id, \"\", \"\", {\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"file\":\"chat.vue\",\"sourceRoot\":\"webpack://\"}]);\n\t\n\t// exports\n\n\n/***/ },\n\n/***/ 142:\n/***/ function(module, exports, __webpack_require__) {\n\n\t// style-loader: Adds some css to the DOM by adding a <style> tag\n\t\n\t// load the styles\n\tvar content = __webpack_require__(72);\n\tif(typeof content === 'string') content = [[module.id, content, '']];\n\t// add the styles to the DOM\n\tvar update = __webpack_require__(2)(content, {});\n\tif(content.locals) module.exports = content.locals;\n\t// Hot Module Replacement\n\tif(false) {\n\t\t// When the styles change, update the <style> tags\n\t\tif(!content.locals) {\n\t\t\tmodule.hot.accept(\"!!./../../node_modules/.0.24.0@css-loader/index.js?sourceMap!./../../node_modules/.8.5.4@vue-loader/lib/style-rewriter.js?id=_v-05bf2615&scoped=true!./../../node_modules/.8.5.4@vue-loader/lib/selector.js?type=style&index=0!./chat.vue\", function() {\n\t\t\t\tvar newContent = require(\"!!./../../node_modules/.0.24.0@css-loader/index.js?sourceMap!./../../node_modules/.8.5.4@vue-loader/lib/style-rewriter.js?id=_v-05bf2615&scoped=true!./../../node_modules/.8.5.4@vue-loader/lib/selector.js?type=style&index=0!./chat.vue\");\n\t\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\t\tupdate(newContent);\n\t\t\t});\n\t\t}\n\t\t// When the module is disposed, remove the <style> tags\n\t\tmodule.hot.dispose(function() { update(); });\n\t}\n\n/***/ },\n\n/***/ 173:\n/***/ function(module, exports) {\n\n\tmodule.exports = \" <div class=\\\"_full_inner _scroll _effect component-chat\\\" :class=\\\"{'_effect--30':decline}\\\" _v-05bf2615=\\\"\\\"> <search-bar _v-05bf2615=\\\"\\\"></search-bar> <ul class=wechat-list _v-05bf2615=\\\"\\\"> <li class=\\\"item _line-fine\\\" v-for=\\\"item in wechat_list\\\" transition=chat-item _v-05bf2615=\\\"\\\"> <div class=info :class=\\\"{\\n                'current':currentIndex==$index\\n                }\\\" @touchstart=info_touchstart($index) v-touch:tap=info_tap($index) v-touch:swipeleft=info_swipeleft($index) v-touch-options:swipe=\\\"{ direction: 'horizontal' }\\\" _v-05bf2615=\\\"\\\"> <div class=ico-box _v-05bf2615=\\\"\\\"> <i :class=\\\"item.chatConfigModel | f_news 'nclass'\\\" v-text=\\\"item.chatBaseModel | f_news 'ntext'\\\" v-show=\\\"item.chatBaseModel | f_news 'nshow'\\\" _v-05bf2615=\\\"\\\"></i> <div class=ico _v-05bf2615=\\\"\\\"> <img :src=item.base.iconSrc alt=pic _v-05bf2615=\\\"\\\"> </div> </div> <div class=desc _v-05bf2615=\\\"\\\"> <div class=desc-time v-text=\\\"item.chatBaseModel.endTimeStr | fmtDate 'hh:ss'\\\" _v-05bf2615=\\\"\\\"></div> <div class=desc-title v-text=item.base.name _v-05bf2615=\\\"\\\"></div> <div class=desc-message _v-05bf2615=\\\"\\\"> <div class=\\\"desc-mute iconfont icon-mute\\\" :title=\\\"item.chatConfigModel.newsMute | json\\\" v-show=item.chatConfigModel.newsMute _v-05bf2615=\\\"\\\"></div> <span :title=item.base.type v-show=\\\"item.base.type==='friends'\\\" v-text=\\\"item.chatBaseModel.endChatAuth+':'\\\" _v-05bf2615=\\\"\\\"></span> <span v-text=item.chatBaseModel.endChatTxt _v-05bf2615=\\\"\\\"></span> </div> </div> </div> <div class=handle _v-05bf2615=\\\"\\\"> <div class=handle-unread v-touch:tap=increase_newsState($index,1) v-show=\\\"item.chatBaseModel.newsUnreadCount==0\\\" _v-05bf2615=\\\"\\\">标为未读</div> <div class=handle-unread v-touch:tap=increase_newsState($index,0) v-show=\\\"item.chatBaseModel.newsUnreadCount>0\\\" _v-05bf2615=\\\"\\\">标为已读</div> <div class=handle-del v-touch:tap=delete_item($index) _v-05bf2615=\\\"\\\">删除</div> </div> </li> </ul> </div> <router-view transition=cover keep-alive=\\\"\\\" _v-05bf2615=\\\"\\\"></router-view> \";\n\n/***/ },\n\n/***/ 250:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _getters = __webpack_require__(8);\n\t\n\tvar _actions = __webpack_require__(22);\n\t\n\tvar _searchBar = __webpack_require__(18);\n\t\n\tvar _searchBar2 = _interopRequireDefault(_searchBar);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t    vuex: {\n\t        getters: {\n\t            wechat_list: _getters.wechat_list\n\t        },\n\t        actions: {\n\t            get_menu_wechat_list: _actions.get_menu_wechat_list,\n\t            set_menu_active: _actions.set_menu_active,\n\t            set_chat: _actions.set_chat,\n\t            set_chat_count: _actions.set_chat_count,\n\t            set_news_state: _actions.set_news_state,\n\t            delete_news: _actions.delete_news\n\t        }\n\t    },\n\t    route: {\n\t        activate: function activate(_ref) {\n\t            var from = _ref.from,\n\t                to = _ref.to,\n\t                next = _ref.next;\n\t\n\t\n\t            this.set_menu_active(0);\n\t            next();\n\t        }\n\t    },\n\t    data: function data() {\n\t        return {\n\t            decline: false,\n\t            currentIndex: -1,\n\t            isTouchSwipe: false };\n\t    },\n\t\n\t    events: {\n\t        'route-pipe': function routePipe(_decline) {\n\t            this.decline = _decline;\n\t            this.$parent.$emit('route-pipe', _decline);\n\t        }\n\t    },\n\t    methods: {\n\t        info_touchstart: function info_touchstart(_index) {\n\t            this.currentIndex = -1;\n\t        },\n\t        info_tap: function info_tap(_index) {\n\t            var index = _index;\n\t            if (index >= 0 && !this.isTouchSwipe) {\n\t                this.set_chat(this.wechat_list[index]);\n\t                this.$router.go({\n\t                    path: \"/chat/dialogue\"\n\t                });\n\t            }\n\t            this.isTouchSwipe = false;\n\t        },\n\t        info_swipeleft: function info_swipeleft(_index) {\n\t            event.stopPropagation();\n\t            if (!this.isTouchSwipe) {\n\t                this.isTouchSwipe = true;\n\t                this.currentIndex = _index;\n\t            } else {\n\t                this.isTouchSwipe = false;\n\t            }\n\t        },\n\t        computed_unRead_count: function computed_unRead_count() {\n\t            var sum = 0;\n\t            console.log(this.wechat_list);\n\t            this.wechat_list.forEach(function (_ref2, index) {\n\t                var chatBaseModel = _ref2.chatBaseModel,\n\t                    chatConfigModel = _ref2.chatConfigModel;\n\t\n\t                if (!chatConfigModel.newsMute) {\n\t                    var count = chatBaseModel.newsUnreadCount;\n\t                    sum += count;\n\t                }\n\t            });\n\t            this.set_chat_count(sum);\n\t        },\n\t        increase_newsState: function increase_newsState(index, val) {\n\t            var _this = this;\n\t\n\t            this.isTouchSwipe = false;\n\t\n\t            this.set_news_state(index, val, function () {\n\t                _this.currentIndex = -1;\n\t                _this.computed_unRead_count();\n\t            });\n\t        },\n\t        delete_item: function delete_item(index) {\n\t            var _this2 = this;\n\t\n\t            this.delete_news(index, function () {\n\t                _this2.currentIndex = -1;\n\t                _this2.computed_unRead_count();\n\t            });\n\t        }\n\t    },\n\t    filters: {\n\t        f_news: function f_news(obj, attr) {\n\t            var obj = obj || {};\n\t            var newsClass = obj.newsMute ? '_news-dot' : '_news-count';\n\t            var newsText = !obj.newsMute ? obj.newsUnreadCount : '';\n\t            var newsShow = obj.newsUnreadCount > 0;\n\t            var o = {\n\t                nclass: newsClass,\n\t                ntext: newsText,\n\t                nshow: newsShow\n\t            };\n\t            return o[attr];\n\t        }\n\t    },\n\t    components: {\n\t        searchBar: _searchBar2.default\n\t    },\n\t    created: function created() {\n\t        var _this3 = this;\n\t\n\t        this.get_menu_wechat_list(function () {\n\t            _this3.computed_unRead_count();\n\t        });\n\t    }\n\t};\n\n/***/ },\n\n/***/ 275:\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __vue_script__, __vue_template__\n\tvar __vue_styles__ = {}\n\t__webpack_require__(142)\n\t__vue_script__ = __webpack_require__(250)\n\t__vue_template__ = __webpack_require__(173)\n\tmodule.exports = __vue_script__ || {}\n\tif (module.exports.__esModule) module.exports = module.exports.default\n\tvar __vue_options__ = typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports\n\tif (__vue_template__) {\n\t__vue_options__.template = __vue_template__\n\t}\n\tif (!__vue_options__.computed) __vue_options__.computed = {}\n\tObject.keys(__vue_styles__).forEach(function (key) {\n\tvar module = __vue_styles__[key]\n\t__vue_options__.computed[key] = function () { return module }\n\t})\n\n\n/***/ }\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/20.5ad89a25d07f388cee57.js","exports = module.exports = require(\"./../../node_modules/.0.24.0@css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\", {\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"file\":\"search-bar.vue\",\"sourceRoot\":\"webpack://\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/.0.24.0@css-loader?sourceMap!./~/.8.5.4@vue-loader/lib/style-rewriter.js!./~/.8.5.4@vue-loader/lib/selector.js?type=style&index=0!./src/components/search-bar.vue\n// module id = 10\n// module chunks = 2 9 10 20","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../../node_modules/.0.24.0@css-loader/index.js?sourceMap!./../../node_modules/.8.5.4@vue-loader/lib/style-rewriter.js!./../../node_modules/.8.5.4@vue-loader/lib/selector.js?type=style&index=0!./search-bar.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../../node_modules/.1.0.0@vue-style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../../node_modules/.0.24.0@css-loader/index.js?sourceMap!./../../node_modules/.8.5.4@vue-loader/lib/style-rewriter.js!./../../node_modules/.8.5.4@vue-loader/lib/selector.js?type=style&index=0!./search-bar.vue\", function() {\n\t\t\tvar newContent = require(\"!!./../../node_modules/.0.24.0@css-loader/index.js?sourceMap!./../../node_modules/.8.5.4@vue-loader/lib/style-rewriter.js!./../../node_modules/.8.5.4@vue-loader/lib/selector.js?type=style&index=0!./search-bar.vue\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/.1.0.1@extract-text-webpack-plugin/loader.js?{\"omit\":1,\"extract\":true,\"remove\":true}!./~/.1.0.0@vue-style-loader!./~/.0.24.0@css-loader?sourceMap!./~/.8.5.4@vue-loader/lib/style-rewriter.js!./~/.8.5.4@vue-loader/lib/selector.js?type=style&index=0!./src/components/search-bar.vue\n// module id = 11\n// module chunks = 2 9 10 20","module.exports = \" <div class=weui_search_bar :class=\\\"isFocus?'weui_search_focusing':''\\\"> <form class=weui_search_outer> <div class=weui_search_inner> <i class=weui_icon_search></i> <input type=search class=weui_search_input placeholder=搜索 v-model=searchVal :id=searchId @input=s_input @focus=s_focus @blur=s_blur> <a href=javascript: class=weui_icon_clear @touchend=reset_val v-show=hasVal></a> </div> <label :for=searchId class=weui_search_text> <i class=weui_icon_search></i> <span>搜索</span> </label> </form> <a href=javascript: class=weui_search_cancel @touchend=s_blur>取消</a> </div> \";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/.1.2.3@vue-html-loader!./~/.8.5.4@vue-loader/lib/selector.js?type=template&index=0!./src/components/search-bar.vue\n// module id = 12\n// module chunks = 2 9 10 20","<template>\r\n    <div class=\"weui_search_bar\" :class=\"isFocus?'weui_search_focusing':''\">\r\n        <form class=\"weui_search_outer\">\r\n            <div class=\"weui_search_inner\">\r\n                <i class=\"weui_icon_search\"></i>\r\n                <input type=\"search\" class=\"weui_search_input\" placeholder=\"搜索\" v-model=\"searchVal\" :id=\"searchId\" @input=\"s_input\" @focus=\"s_focus\" @blur=\"s_blur\">\r\n                <a href=\"javascript:\" class=\"weui_icon_clear\" @touchend=\"reset_val\" v-show=\"hasVal\"></a>\r\n            </div>\r\n            <label :for=\"searchId\" class=\"weui_search_text\">\r\n                <i class=\"weui_icon_search\"></i>\r\n                <span>搜索</span>\r\n            </label>\r\n        </form>\r\n        <a href=\"javascript:\" class=\"weui_search_cancel\" @touchend=\"s_blur\">取消</a>\r\n    </div>\r\n</template>\r\n<script>\r\nexport default {\r\n    props: {\r\n        searchId: String\r\n    },\r\n    data() {\r\n        return {\r\n            isFocus: false,\r\n            searchVal: \"\",\r\n            hasVal: false\r\n        }\r\n    },\r\n    methods: {\r\n        s_input() {\r\n            if (this.searchVal !== '') {\r\n                this.hasVal = true;\r\n            } else {\r\n                this.hasVal = false;\r\n            }\r\n        },\r\n        s_focus() {\r\n            this.isFocus = true;\r\n        },\r\n        s_blur() {\r\n            this.isFocus = false;\r\n        },\r\n        reset_val() {\r\n            this.searchVal = ''\r\n        }\r\n    }\r\n}\r\n</script>\r\n<style>\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// search-bar.vue?a3e464c6","var __vue_script__, __vue_template__\nvar __vue_styles__ = {}\nrequire(\"!!./../../node_modules/.1.0.1@extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!./../../node_modules/.8.5.4@vue-loader/lib/style-rewriter.js!./../../node_modules/.8.5.4@vue-loader/lib/selector.js?type=style&index=0!./search-bar.vue\")\n__vue_script__ = require(\"!!babel-loader?presets[]=es2015&plugins[]=transform-runtime&comments=false!./../../node_modules/.8.5.4@vue-loader/lib/selector.js?type=script&index=0!./search-bar.vue\")\n__vue_template__ = require(\"!!vue-html-loader!./../../node_modules/.8.5.4@vue-loader/lib/selector.js?type=template&index=0!./search-bar.vue\")\nmodule.exports = __vue_script__ || {}\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue_options__ = typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports\nif (__vue_template__) {\n__vue_options__.template = __vue_template__\n}\nif (!__vue_options__.computed) __vue_options__.computed = {}\nObject.keys(__vue_styles__).forEach(function (key) {\nvar module = __vue_styles__[key]\n__vue_options__.computed[key] = function () { return module }\n})\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/search-bar.vue\n// module id = 18\n// module chunks = 2 9 10 20","exports = module.exports = require(\"./../../node_modules/.0.24.0@css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\", {\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"file\":\"chat.vue\",\"sourceRoot\":\"webpack://\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/.0.24.0@css-loader?sourceMap!./~/.8.5.4@vue-loader/lib/style-rewriter.js?id=_v-05bf2615&scoped=true!./~/.8.5.4@vue-loader/lib/selector.js?type=style&index=0!./src/views/chat.vue\n// module id = 72\n// module chunks = 20","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../../node_modules/.0.24.0@css-loader/index.js?sourceMap!./../../node_modules/.8.5.4@vue-loader/lib/style-rewriter.js?id=_v-05bf2615&scoped=true!./../../node_modules/.8.5.4@vue-loader/lib/selector.js?type=style&index=0!./chat.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../../node_modules/.1.0.0@vue-style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../../node_modules/.0.24.0@css-loader/index.js?sourceMap!./../../node_modules/.8.5.4@vue-loader/lib/style-rewriter.js?id=_v-05bf2615&scoped=true!./../../node_modules/.8.5.4@vue-loader/lib/selector.js?type=style&index=0!./chat.vue\", function() {\n\t\t\tvar newContent = require(\"!!./../../node_modules/.0.24.0@css-loader/index.js?sourceMap!./../../node_modules/.8.5.4@vue-loader/lib/style-rewriter.js?id=_v-05bf2615&scoped=true!./../../node_modules/.8.5.4@vue-loader/lib/selector.js?type=style&index=0!./chat.vue\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/.1.0.1@extract-text-webpack-plugin/loader.js?{\"omit\":1,\"extract\":true,\"remove\":true}!./~/.1.0.0@vue-style-loader!./~/.0.24.0@css-loader?sourceMap!./~/.8.5.4@vue-loader/lib/style-rewriter.js?id=_v-05bf2615&scoped=true!./~/.8.5.4@vue-loader/lib/selector.js?type=style&index=0!./src/views/chat.vue\n// module id = 142\n// module chunks = 20","module.exports = \" <div class=\\\"_full_inner _scroll _effect component-chat\\\" :class=\\\"{'_effect--30':decline}\\\" _v-05bf2615=\\\"\\\"> <search-bar _v-05bf2615=\\\"\\\"></search-bar> <ul class=wechat-list _v-05bf2615=\\\"\\\"> <li class=\\\"item _line-fine\\\" v-for=\\\"item in wechat_list\\\" transition=chat-item _v-05bf2615=\\\"\\\"> <div class=info :class=\\\"{\\n                'current':currentIndex==$index\\n                }\\\" @touchstart=info_touchstart($index) v-touch:tap=info_tap($index) v-touch:swipeleft=info_swipeleft($index) v-touch-options:swipe=\\\"{ direction: 'horizontal' }\\\" _v-05bf2615=\\\"\\\"> <div class=ico-box _v-05bf2615=\\\"\\\"> <i :class=\\\"item.chatConfigModel | f_news 'nclass'\\\" v-text=\\\"item.chatBaseModel | f_news 'ntext'\\\" v-show=\\\"item.chatBaseModel | f_news 'nshow'\\\" _v-05bf2615=\\\"\\\"></i> <div class=ico _v-05bf2615=\\\"\\\"> <img :src=item.base.iconSrc alt=pic _v-05bf2615=\\\"\\\"> </div> </div> <div class=desc _v-05bf2615=\\\"\\\"> <div class=desc-time v-text=\\\"item.chatBaseModel.endTimeStr | fmtDate 'hh:ss'\\\" _v-05bf2615=\\\"\\\"></div> <div class=desc-title v-text=item.base.name _v-05bf2615=\\\"\\\"></div> <div class=desc-message _v-05bf2615=\\\"\\\"> <div class=\\\"desc-mute iconfont icon-mute\\\" :title=\\\"item.chatConfigModel.newsMute | json\\\" v-show=item.chatConfigModel.newsMute _v-05bf2615=\\\"\\\"></div> <span :title=item.base.type v-show=\\\"item.base.type==='friends'\\\" v-text=\\\"item.chatBaseModel.endChatAuth+':'\\\" _v-05bf2615=\\\"\\\"></span> <span v-text=item.chatBaseModel.endChatTxt _v-05bf2615=\\\"\\\"></span> </div> </div> </div> <div class=handle _v-05bf2615=\\\"\\\"> <div class=handle-unread v-touch:tap=increase_newsState($index,1) v-show=\\\"item.chatBaseModel.newsUnreadCount==0\\\" _v-05bf2615=\\\"\\\">标为未读</div> <div class=handle-unread v-touch:tap=increase_newsState($index,0) v-show=\\\"item.chatBaseModel.newsUnreadCount>0\\\" _v-05bf2615=\\\"\\\">标为已读</div> <div class=handle-del v-touch:tap=delete_item($index) _v-05bf2615=\\\"\\\">删除</div> </div> </li> </ul> </div> <router-view transition=cover keep-alive=\\\"\\\" _v-05bf2615=\\\"\\\"></router-view> \";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/.1.2.3@vue-html-loader!./~/.8.5.4@vue-loader/lib/template-rewriter.js?id=_v-05bf2615!./~/.8.5.4@vue-loader/lib/selector.js?type=template&index=0!./src/views/chat.vue\n// module id = 173\n// module chunks = 20","<template>\r\n    <div class=\"_full_inner _scroll _effect component-chat\" :class=\"{'_effect--30':decline}\">\r\n        <search-bar></search-bar>\r\n        <ul class=\"wechat-list\">\r\n            <li class=\"item _line-fine\" v-for=\"item in wechat_list\" transition=\"chat-item\">\r\n                <div class=\"info\" :class=\"{\r\n                    'current':currentIndex==$index\r\n                    }\" @touchstart=\"info_touchstart($index)\" v-touch:tap=\"info_tap($index)\" v-touch:swipeleft=\"info_swipeleft($index)\" v-touch-options:swipe=\"{ direction: 'horizontal' }\">\r\n                    <div class=\"ico-box\">\r\n                        <i :class=\"item.chatConfigModel | f_news 'nclass'\" v-text=\"item.chatBaseModel | f_news 'ntext'\" v-show=\"item.chatBaseModel | f_news 'nshow'\"></i>\r\n                        <div class=\"ico\">\r\n                            <img :src=\"item.base.iconSrc\" alt=\"pic\">\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"desc\">\r\n                        <div class=\"desc-time\" v-text=\"item.chatBaseModel.endTimeStr | fmtDate 'hh:ss'\"></div>\r\n                        <div class=\"desc-title\" v-text=\"item.base.name\"></div>\r\n                        <div class=\"desc-message\">\r\n                            <div class=\"desc-mute iconfont icon-mute\" :title=\"item.chatConfigModel.newsMute | json\" v-show=\"item.chatConfigModel.newsMute\"></div>\r\n                            <span :title=\"item.base.type\" v-show=\"item.base.type==='friends'\" v-text=\"item.chatBaseModel.endChatAuth+':'\"></span>\r\n                            <span v-text=\"item.chatBaseModel.endChatTxt\"></span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"handle\">\r\n                    <div class=\"handle-unread\" v-touch:tap='increase_newsState($index,1)' v-show=\"item.chatBaseModel.newsUnreadCount==0\">标为未读</div>\r\n                    <div class=\"handle-unread\" v-touch:tap='increase_newsState($index,0)' v-show=\"item.chatBaseModel.newsUnreadCount>0\">标为已读</div>\r\n                    <div class=\"handle-del\" v-touch:tap=\"delete_item($index)\">删除</div>\r\n                </div>\r\n            </li>\r\n        </ul>\r\n    </div>\r\n    <!-- router -->\r\n    <router-view transition=\"cover\" keep-alive></router-view>\r\n</template>\r\n<script>\r\nimport {\r\n    wechat_list\r\n} from 'getters'\r\nimport {\r\n    get_menu_wechat_list,\r\n    set_menu_active,\r\n    set_chat,\r\n    set_chat_count,\r\n    set_news_state,\r\n    delete_news\r\n} from '../vuex/actions'\r\n\r\nimport searchBar from 'components/search-bar.vue'\r\n\r\nexport default {\r\n    vuex: {\r\n        getters: {\r\n            wechat_list\r\n        },\r\n        actions: {\r\n            get_menu_wechat_list,\r\n            set_menu_active,\r\n            set_chat,\r\n            set_chat_count,\r\n            set_news_state,\r\n            delete_news\r\n        }\r\n    },\r\n    route: {\r\n        activate({\r\n            from,\r\n            to,\r\n            next\r\n        }) {\r\n\r\n            this.set_menu_active(0)\r\n            next()\r\n        }\r\n    },\r\n    data() {\r\n        return {\r\n            decline: false,\r\n            currentIndex: -1, //列表item处在左划状态\r\n            isTouchSwipe: false, //验证是否处于左划状态\r\n        }\r\n    },\r\n    events: {\r\n        'route-pipe' (_decline) {\r\n            this.decline = _decline\r\n            this.$parent.$emit('route-pipe', _decline)\r\n        }\r\n    },\r\n    methods: {\r\n        info_touchstart(_index) {\r\n            this.currentIndex = -1\r\n        },\r\n        info_tap(_index) {\r\n            var index = _index;\r\n            if (index >= 0 && !this.isTouchSwipe) {\r\n                this.set_chat(this.wechat_list[index])\r\n                this.$router.go({\r\n                    path: \"/chat/dialogue\"\r\n                })\r\n            }\r\n            this.isTouchSwipe = false\r\n        },\r\n        info_swipeleft(_index) {\r\n            event.stopPropagation()\r\n            if (!this.isTouchSwipe) {\r\n                this.isTouchSwipe = true\r\n                this.currentIndex = _index\r\n            } else {\r\n                this.isTouchSwipe = false\r\n            }\r\n        },\r\n        computed_unRead_count() {\r\n            //计算未读数量\r\n            let sum = 0;\r\n            console.log(this.wechat_list)\r\n            this.wechat_list.forEach(({\r\n                chatBaseModel,\r\n                chatConfigModel\r\n            }, index) => {\r\n                if (!chatConfigModel.newsMute) {\r\n                    let count = chatBaseModel.newsUnreadCount\r\n                    sum += count\r\n                }\r\n            })\r\n            this.set_chat_count(sum)\r\n        },\r\n        increase_newsState(index, val) {\r\n            this.isTouchSwipe = false;\r\n            //改变已读未读状态并回调计算未读总和\r\n            this.set_news_state(index, val, () => {\r\n                this.currentIndex = -1\r\n                this.computed_unRead_count()\r\n            })\r\n        },\r\n        delete_item(index) {\r\n            this.delete_news(index, () => {\r\n                this.currentIndex = -1;\r\n                this.computed_unRead_count()\r\n            })\r\n\r\n        }\r\n    },\r\n    filters: {\r\n        f_news(obj, attr) {\r\n            var obj = obj || {}\r\n            let newsClass = obj.newsMute ? '_news-dot' : '_news-count'\r\n            let newsText = !obj.newsMute ? obj.newsUnreadCount : ''\r\n            let newsShow = (obj.newsUnreadCount > 0)\r\n            let o = {\r\n                nclass: newsClass,\r\n                ntext: newsText,\r\n                nshow: newsShow\r\n            }\r\n            return o[attr]\r\n        }\r\n    },\r\n    components: {\r\n        searchBar\r\n    },\r\n    created() {\r\n        this.get_menu_wechat_list(() => {\r\n            this.computed_unRead_count()\r\n        })\r\n    }\r\n}\r\n</script>\r\n<style scoped>\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// chat.vue?6fac483b","var __vue_script__, __vue_template__\nvar __vue_styles__ = {}\nrequire(\"!!./../../node_modules/.1.0.1@extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!./../../node_modules/.8.5.4@vue-loader/lib/style-rewriter.js?id=_v-05bf2615&scoped=true!./../../node_modules/.8.5.4@vue-loader/lib/selector.js?type=style&index=0!./chat.vue\")\n__vue_script__ = require(\"!!babel-loader?presets[]=es2015&plugins[]=transform-runtime&comments=false!./../../node_modules/.8.5.4@vue-loader/lib/selector.js?type=script&index=0!./chat.vue\")\n__vue_template__ = require(\"!!vue-html-loader!./../../node_modules/.8.5.4@vue-loader/lib/template-rewriter.js?id=_v-05bf2615!./../../node_modules/.8.5.4@vue-loader/lib/selector.js?type=template&index=0!./chat.vue\")\nmodule.exports = __vue_script__ || {}\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue_options__ = typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports\nif (__vue_template__) {\n__vue_options__.template = __vue_template__\n}\nif (!__vue_options__.computed) __vue_options__.computed = {}\nObject.keys(__vue_styles__).forEach(function (key) {\nvar module = __vue_styles__[key]\n__vue_options__.computed[key] = function () { return module }\n})\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/chat.vue\n// module id = 275\n// module chunks = 20"],"sourceRoot":""}